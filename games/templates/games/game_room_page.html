{% extends "base.html" %}
{% load static wagtailcore_tags %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'games/css/lobby.css' %}">
{% endblock %}

{% block content %}
<div class="outer-rail-top"></div>

<div class="max-w-5xl mx-auto">
    <div class="manifesto-box">
        <nav class="top-nav-lid">
            <div class="nav-links">
                <a href="/" class="nav-link">HOME</a>
                <a href="#" class="nav-link active">THE LOBBY</a>
            </div>
            <div class="nav-links">
                <span class="nav-link" style="color: #ff8c00;">COMMUNITY CENTER</span>
            </div>
        </nav>

        <div class="manifesto-content">
            <div class="manifesto-text-container">
                <h2 style="font-size: 2.5rem; color: #1b263b;">Clubhouse Status</h2>
                <div style="background: #f0ede4; padding: 20px; border: 1px solid #1b263b; border-radius: 4px;">
                    <p style="font-style: italic;">{{ page.intro_text|default:"The tables are open. Start a game to invite a neighbor!" }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="card-zone" style="margin-top: 40px;">
        <div class="card-item">
            <h3>Scrabble</h3>
            <div class="card-image-slot">
                 <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#e2e8f0; font-size:3rem;">A‚ÇÅ</div>
            </div>
            <p>Challenge a neighbor or the computer.</p>
            <button onclick="openModal()" class="join-btn" style="border:none; cursor:pointer; margin-top:10px;">SET TABLE</button>
        </div>
    </div>
</div>

<div id="gameModal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Set Your Table: Scrabble</h3>
            <span class="close-modal" onclick="closeModal()">&times;</span>
        </div>
        <div class="modal-body">
            <form id="gameSetupForm">
                <label>Who are you playing?</label>
                <select id="opponentSelect">
                    <option value="computer">The Computer (AI)</option>
                    <option value="neighbor">A Neighbor (Open Table)</option>
                </select>
                <button type="button" class="join-btn" style="width:100%; margin-top:20px;">START GAME</button>
            </form>
        </div>
    </div>
</div>

<div class="outer-rail-bottom"></div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'games/js/lobby.js' %}"></script>
{% endblock %}